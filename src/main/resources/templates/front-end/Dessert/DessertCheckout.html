<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>甜點訂單結帳</title>
    <meta name="robots" content="noindex, follow"/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS
	============================================ -->
    <style>
        .form-row {
            display: flex;
            align-items: center;
        }

        .form-row .remember-login {
            margin-left: 60px;
        }

        #showlogin {
            color: #007BFF;
            transition: color 0.01s;
        }

        #showlogin:active {
            color: #EA6636;
        }

        .col + .col::before {
            content: "-";
            position: absolute;
            margin-left: -15px;
            margin-top: 7px;
        }
    </style>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/Dessert/CSS/bootstrap.min.css">
    <!-- FontAwesome -->
    <!-- <link rel="stylesheet" href="assets/css/vendor/font.awesome.min.css"> -->
    <!-- Ionicons -->
    <link rel="stylesheet" href="/Dessert/CSS/ionicons.min.css">
    <!-- Slick CSS -->
    <link rel="stylesheet" href="/Dessert/CSS/slick.min.css">
    <!-- Animation -->
    <link rel="stylesheet" href="/Dessert/CSS/animate.min.css">
    <!-- jQuery Ui -->
    <link rel="stylesheet" href="/Dessert/CSS/jquery-ui.min.css">
    <!-- Nice Select -->
    <link rel="stylesheet" href="/Dessert/CSS/nice-select.min.css">
    <!-- Magnific Popup -->
    <link rel="stylesheet" href="/Dessert/CSS/magnific-popup.css">


    <link href="/Dessert/CSS/all.min.css" rel="stylesheet">


    <link href="/Dessert/CSS/bootstrap1.min.css" rel="stylesheet">

    <link href="/Dessert/CSS/style.css" rel="stylesheet">

    <link rel="stylesheet" href="/Dessert/CSS/stylev.css">
    <style>
        .payment-option.active {
            color: #EA6636;
            /* 设置选中付款方式后的字体颜色 */
        }
    </style>

</head>

<body>
<div id="spinner"
     class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-grow text-primary" role="status"></div>
</div>


<div class="container-fluid top-bar bg-dark text-light px-0 wow fadeIn" data-wow-delay="0.1s">
    <div class="row gx-0 align-items-center d-none d-lg-flex">
        <div class="col-lg-6 px-5 text-start">
            <ol class="breadcrumb mb-0">
                <!-- <li class="breadcrumb-item"><a class="small text-light" href="#">Home</a></li>
        <li class="breadcrumb-item"><a class="small text-light" href="#">Career</a></li>
        <li class="breadcrumb-item"><a class="small text-light" href="#">Terms</a></li>
        <li class="breadcrumb-item"><a class="small text-light" href="#">Privacy</a></li> -->
            </ol>
        </div>
        <div class="col-lg-6 px-5 text-end">
            <small>Follow us:</small>
            <div class="h-100 d-inline-flex align-items-center">
                <a class="btn-lg-square text-primary border-end rounded-0" href=""><i
                        class="fab fa-facebook-f"></i></a>
                <a class="btn-lg-square text-primary border-end rounded-0" href=""><i
                        class="fab fa-twitter"></i></a>
                <a class="btn-lg-square text-primary border-end rounded-0" href=""><i
                        class="fab fa-linkedin-in"></i></a>
                <a class="btn-lg-square text-primary pe-0" href=""><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </div>
</div>

<!-- 導覽列 -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top py-lg-0 px-lg-5 wow fadeIn" data-wow-delay="0.1s">
    <a href="index1.html" class="navbar-brand ms-4 ms-lg-0">
        <h1 class="text-primary m-0">Le Goûter</h1>
    </a>


    <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav mx-auto p-4 p-lg-0">
            <a href="" class="nav-item nav-link active">首頁</a>
            <a href="" class="nav-item nav-link">最新消息</a>
            <a href="" class="nav-item nav-link">關於我們</a>
            <a href="" class="nav-item nav-link">甜點商城</a>
            <a href="" class="nav-item nav-link">課程專區</a>
            <a href="" class="nav-item nav-link">團購專區</a>
            <a href="" class="nav-item nav-link">會員專區</a>
            <a href="" class="nav-item nav-link">優惠券專區</a>
            <div class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">其他</a>
                <div class="dropdown-menu m-0">
                    <a href="" class="dropdown-item">FAQ</a>
                    <a href="" class="dropdown-item">聯絡客服</a>
                </div>
            </div>
        </div>
        <div class=" d-none d-lg-flex">

            <a href="DessertCart.html" class="nav-item nav-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                     class="bi bi-cart-check" viewBox="0 0 16 16">
                    <path d="M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
                    <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                </svg>
            </a>


            <div class="flex-shrink-0 btn-lg-square border border-light rounded-circle">
                <i class="fa fa-phone text-primary"></i>
            </div>
            <div class="ps-3">
                <small class="text-primary mb-0">聯絡我們</small>
                <p class="text-light fs-5 mb-0">0912345678</p>
            </div>
        </div>

    </div>
</nav>
<!-- Breadcrumb Area Start Here -->
<div class="breadcrumbs-area position-relative" style="margin-top: 45px;">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <div class="breadcrumb-content position-relative section-content">
                    <h3 class="title-3">甜點訂單結帳</h3>
                    <ul>
                        <li><a href="index.html">瀏覽甜點</a></li>
                        <li>結帳頁面</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Breadcrumb Area End Here -->
<!-- Checkout Area Start Here -->


<div class="checkout-area">
    <div class="container container-default-2 custom-container">
        <div class="row">
            <div class="col-12">


            </div>
        </div>
        <div class="row">
            <div class="col-lg-6 col-12">
                <form action="#">
                    <div class="checkbox-form">
                        <h3>訂購資訊</h3>
                        <div class="row">

                            <div class="col-md-6">
                                <div class="checkout-form-list">
                                    <label>姓名 <span class="required">*</span></label>
                                    <input placeholder="" type="text" name="receiverName">
                                </div>
                            </div>


                            <div class="col-md-12">
                                <div class="checkout-form-list">
                                    <label>運送地址 <span class="required">*</span></label>
                                    <input placeholder="請輸入地址" type="text" name="receiverAddress">
                                </div>
                            </div>


                            <div class="col-md-6">
                                <div class="checkout-form-list">
                                    <label>Email <span class="required">*</span></label>
                                    <input placeholder="" type="email" name="receiverEmail">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="checkout-form-list">
                                    <label>連絡電話 <span class="required">*</span></label>
                                    <input type="text" name="receiverPhone">
                                </div>
                            </div>

                        </div>

                    </div>
                </form>
            </div>
            <div class="col-lg-6 col-12">
                <div class="your-order">
                    <h3>您的甜點訂單</h3>
                    <div class="your-order-table table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th class="cart-product-name">甜點名稱</th>
                                <th class="cart-product-total">總金額</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="cart_item" th:each="item : ${dessertCartList}">
                                <td class="cart-product-name"><span th:text="${item.dessertName}"></span><strong
                                        class="product-quantity">
                                    × <span th:text="${item.cartDessertQuantity}"></span></strong></td>
                                <td class="cart-product-total text-center"><span class="amount">$<span
                                        th:text="${item.subtotalAmount}"></span></span></td>
                            </tr>

                            <tr class="cart_item">
                                <td class="cart-product-name">甜點總金額</td>
                                <td class="cart-product-total text-center"><span class="amount">$<span
                                        th:text="${total}"></span></span></td>
                            </tr>


                            <tr class="cart_item">
                                <td class="cart-product-name"> 運費<strong class="product-quantity">
                                </strong></td>
                                <td class="cart-product-total text-center">
                                    <span class="amount">$<span th:text="${shippingCost}"></span></span>
                                    <input type="hidden" name="shippingCost" value="${shippingCost}">
                                </td>
                            </tr>

                            <tr class="cart_item">
                                <td class="cart-product-name"> 折扣金額<strong class="product-quantity">
                                </strong></td>
                                <td class="cart-product-total text-center"><span class="amount">-$75</span></td>
                            </tr>
                            </tbody>
                            <tfoot>

                            <tr class="order-total">
                                <th>訂單總金額</th>
                                <td class="text-center"><strong><span class="amount">$<span
                                        th:text="${total + shippingCost - 75}"></span></span></strong></td>
                            </tr>

                            </tfoot>
                        </table>
                    </div>
                    <div class="payment-method">
                        <div class="payment-accordion">
                            <div id="accordion">
                                <div class="card">
                                    <div class="card-header" id="payment-1">
                                        <h5 class="panel-title mb-2">
                                            <a href="#" class="payment-option" data-toggle="collapse"
                                               data-target="#collapseOne" aria-expanded="true"
                                               aria-controls="collapseOne">
                                                銀行轉帳
                                            </a>
                                        </h5>
                                    </div>
                                    <div id="collapseOne" class="collapse" aria-labelledby="payment-1"
                                         data-parent="#accordion">
                                        <div class="card-body mb-2 mt-2">
                                            <p>匯款資訊</p>
                                            <p>戶名：LE</p>
                                            <p>第一銀行，華山分行（007）</p>
                                            <p>帳號：123456789</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="payment-2">
                                        <h5 class="panel-title mb-2">
                                            <a href="#" class="payment-option" data-toggle="collapse"
                                               data-target="#collapseTwo" aria-expanded="false"
                                               aria-controls="collapseTwo">
                                                信用卡
                                            </a>
                                        </h5>
                                    </div>
                                    <div id="collapseTwo" class="collapse" aria-labelledby="payment-2"
                                         data-parent="#accordion">
                                        <div class="accordion-body">
                                            <form>
                                                <div class="mb-3">
                                                    <label class="form-label">信用卡卡號</label>
                                                    <div class="row">
                                                        <div class="col">
                                                            <input type="text" class="form-control" maxlength="4"
                                                                   oninput="moveToNextInput(1)">
                                                        </div>
                                                        <div class="col">
                                                            <input type="text" class="form-control" maxlength="4"
                                                                   oninput="moveToNextInput(2)">
                                                        </div>
                                                        <div class="col">
                                                            <input type="text" class="form-control" maxlength="4"
                                                                   oninput="moveToNextInput(3)">
                                                        </div>
                                                        <div class="col">
                                                            <input type="text" class="form-control" maxlength="4"
                                                                   oninput="moveToNextInput(4)">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="mb-3">
                                                    <label class="form-label">持卡人姓名</label>
                                                    <input type="text" class="form-control">
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label">卡片到期日</label>
                                                        <input type="text" class="form-control" placeholder="MM/YY">
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label">信用卡認證碼</label>
                                                        <input type="text" class="form-control" placeholder="XXX">
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="order-button-payment">
                            <input value="提交訂單" type="button">
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
</div>
<!-- Checkout Area End Here -->

<!-- Footer Area Start Here -->
<div class="container-fluid bg-dark text-light footer my-6 mb-0 py-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4">粉絲專頁</h4>

                <div class="d-flex pt-2">
                    <a class="btn btn-square btn-outline-light rounded-circle me-1" href=""><i
                            class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-square btn-outline-light rounded-circle me-0" href=""><i
                            class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4">關於我們</h4>
                <a class="btn btn-link" href="">認識Le Goûter</a>
                <a class="btn btn-link" href="">最新消息</a>
                <a class="btn btn-link" href="">甜點商城</a>
                <a class="btn btn-link" href="">課程專區</a>
                <a class="btn btn-link" href="">團購專區</a>
                <a class="btn btn-link" href="">服務條款</a>
                <a class="btn btn-link" href="">隱私政策</a>
                <a class="btn btn-link" href="">聯絡我們</a>
            </div>

            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4">常見問題</h4>
                <a class="btn btn-link" href="">註冊登入</a>
                <a class="btn btn-link" href="">FAQ</a>
                <a class="btn btn-link" href="">回報客服</a>
                <a class="btn btn-link" href="">購物須知</a>
                <a class="btn btn-link" href="">退款政策</a>
            </div>

            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4"></h4>
                <div class="row g-2">
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="static/picture/product-1.jpg" alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="static/picture/product-2.jpg" alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="static/picture/product-3.jpg" alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="static/picture/product-2.jpg" alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="static/picture/product-3.jpg" alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="static/picture/product-1.jpg" alt="Image">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Footer Area End Here -->

<!-- jQuery JS -->
<script src="/Dessert/JS/jquery-3.5.1.min.js"></script>
<script>
    $(document).ready(function () {
        $(".order-button-payment").click(function () {
            var shippingCost = $('input[name="shippingCost"]').val() ? parseInt($('input[name="shippingCost"]').val()) : 0;

            var orderInfo = {
                receiverName: $('input[name="receiverName"]').val(),
                receiverAddress: $('input[name="receiverAddress"]').val(),
                receiverEmail: $('input[name="receiverEmail"]').val(),
                receiverPhone: $('input[name="receiverPhone"]').val(),
                shippingCost: shippingCost
            };

            $.ajax({
                url: '/submitOrder',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(orderInfo),
                success: function () {
                    alert('訂單已成功提交');
                    window.location.href = '/OrderSuccessful';
                },
                error: function () {
                    alert('訂單提交失敗，請檢查您的信息並重試');
                }
            });
        });
    });

    <!-- 信用卡卡號填完自動跳下一格 -->


    function moveToNextInput(nextInputIndex) {
        const inputs = document.querySelectorAll('input[maxlength="4"]');
        const currentIndex = nextInputIndex - 1;
        const nextIndex = currentIndex + 1;

        if (nextIndex < inputs.length) {
            const currentInput = inputs[currentIndex];
            const nextInput = inputs[nextIndex];
            const maxLength = parseInt(currentInput.getAttribute("maxlength"));
            const inputLength = currentInput.value.length;

            if (inputLength >= maxLength) {
                nextInput.focus();
            }
        }
    }

</script>


<script data-cfasync="false" src="/Dessert/JS/SAM/email-decode.min.js"></script>
<script src="/Dessert/JS/SAM/main.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/Dessert/JS/SAM/rocket-loader.min.js" data-cf-settings="0080e6b992b21508d4c0eeae-|49" defer=""></script>


<!-- JS
============================================ -->


<!-- jQuery Migrate JS -->
<script src="/Dessert/JS/jQuery-migrate-3.3.0.min.js"></script>
<!-- Modernizer JS -->
<script src="/Dessert/JS/modernizr-2.8.3.min.js"></script>
<!-- Bootstrap JS -->
<script src="/Dessert/JS/bootstrap.bundle.min.js"></script>
<!-- Slick Slider JS -->
<script src="/Dessert/JS/slick.min.js"></script>
<!-- Countdown JS -->
<script src="/Dessert/JS/jquery.countdown.min.js"></script>
<!-- Ajax JS -->
<script src="/Dessert/JS/jquery.ajaxchimp.min.js"></script>
<!-- Jquery Nice Select JS -->
<script src="/Dessert/JS/jquery.nice-select.min.js"></script>
<!-- Jquery Ui JS -->
<script src="/Dessert/JS/jquery-ui.min.js"></script>
<!-- jquery magnific popup js -->
<script src="/Dessert/JS/jquery.magnific-popup.min.js"></script>

<!-- Main JS -->
<script src="/Dessert/JS/main.js"></script>
<script>
    // 获取所有付款选项
    var paymentOptions = document.querySelectorAll('.payment-option');

    // 添加点击事件监听器
    paymentOptions.forEach(function (option) {
        option.addEventListener('click', function () {
            // 移除其他付款选项的激活状态
            paymentOptions.forEach(function (otherOption) {
                otherOption.classList.remove('active');
            });

            // 添加激活状态到当前选中的付款选项
            option.classList.add('active');
        });
    });

</script>

</body>

</html>