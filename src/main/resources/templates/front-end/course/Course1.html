<!doctype html>
<html lang="zxx">
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Owl Theme Default CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/owl.theme.default.min.css">
    <!-- Owl Carousel CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/owl.carousel.min.css">
    <!-- Owl Magnific CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/magnific-popup.css">
    <!-- Animate CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/animate.css">
    <!-- Flaticon CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/flaticon.css">
    <!-- Meanmenu CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/meanmenu.css">
    <!-- Nice Select CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/nice-select.css">
    <!-- Odometer CSS-->
    <link rel="stylesheet" href="/Course/front-end/assets/css/odometer.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/style.css">
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="/Course/front-end/assets/css/responsive.css">


    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="/Commom/css/css2.css" rel="stylesheet">

    <link href="/Commom/css/all.min.css" rel="stylesheet">
    <link href="/Commom/css/bootstrap-icons.css" rel="stylesheet">

    <link href="/Commom/css/animate.min.css" rel="stylesheet">
    <link href="/Commom/css/owl.carousel.min.css" rel="stylesheet">

    <link href="/Course/front-end/static/css/bootstrap.min.css" rel="stylesheet">

    <link href="/Commom/css/style.css" rel="stylesheet">

    <!-- Title -->
    <title>Le Goûter</title>
</head>

<body>

<!--	<div id="spinner"-->
<!--		class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">-->
<!--		<div class="spinner-grow text-primary" role="status"></div>-->
<!--	</div>-->

<!-- Menu For Desktop Device -->
<!-- 頁首 -->
<div th:insert="front-end/components/Header :: #header-div"></div>
<!-- 導覽列 -->
<div th:insert="front-end/components/NavBar :: #nav-bar"></div>
<!-- End Others Option For Responsive -->

<!-- Start Page Title Area -->
<div class="page-title-area bg-4">
    <div class="container">
        <div class="page-title-content">
            <h2>甜點課程專區</h2>
            <ul>
                <li>
                    <a th:href="@{/LeGouter}">
                        Home
                    </a>
                </li>

                <li class="active">甜點課程</li>
            </ul>
        </div>
    </div>
</div>
<!-- End Page Title Area -->

<!-- Start Courses Area -->
<section class="courses-area-style ptb-100">
    <div class="container">
        <div class="showing-result">
            <div class="row align-items-center">
                <div class="col-lg-6 col-md-4">
                    <div class="showing-result-count">
                    </div>
                </div>
                <!-- 搜尋 不會做 -->
                <!--                <div class="col-lg-3 col-md-4">-->
                <!--                    <div class="text-end mb-3 search-form">-->
                <!--                        <input type="search" id="courseSearch" class="form-control" placeholder="搜尋課程">-->
                <!--                    </div>-->
                <!--                </div>-->
            </div>
        </div>

        <div class="row" id="show-all-courses">
            <!--    ajax-->
        </div>
    </div>
</section>
<!-- End Popular Courses Area -->


<!-- 頁腳 -->
<div th:insert="front-end/components/Footer :: #footer-div"></div>
<!-- 版權所有 -->
<div th:insert="front-end/components/Copyright :: #copyright-div"></div>

<script data-cfasync="false" src="static/js/email-decode.min.js"></script>
<script src="static/js/jquery-3.4.1.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="static/js/bootstrap.bundle.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="static/js/wow.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="static/js/easing.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="static/js/waypoints.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="static/js/counterup.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="static/js/owl.carousel.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>

<script src="static/js/main.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="static/js/rocket-loader.min.js" data-cf-settings="0080e6b992b21508d4c0eeae-|49" defer=""></script>
<!-- End Footer Top Area -->

<!-- Jquery-3.5.1.Slim.Min.JS -->
<script src="/Course/front-end/assets/js/jquery-3.5.1.slim.min.js"></script>
<!-- Popper JS -->
<script src="/Course/front-end/assets/js/popper.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
<!-- Meanmenu JS -->
<script src="/Course/front-end/assets/js/jquery.meanmenu.js"></script>
<!-- Wow JS -->
<script src="/Course/front-end/assets/js/wow.min.js"></script>
<!-- Owl Carousel JS -->
<script src="/Course/front-end/assets/js/owl.carousel.js"></script>
<!-- Owl Magnific JS -->
<script src="/Course/front-end/assets/js/jquery.magnific-popup.min.js"></script>
<!-- Nice Select JS -->
<script src="/Course/front-end/assets/js/jquery.nice-select.min.js"></script>
<!-- Parallax JS -->
<script src="/Course/front-end/assets/js/parallax.min.js"></script>
<!-- Appear JS -->
<script src="/Course/front-end/assets/js/jquery.appear.js"></script>
<!-- Odometer JS -->
<script src="/Course/front-end/assets/js/odometer.min.js"></script>
<!-- Form Validator JS -->
<script src="/Course/front-end/assets/js/form-validator.min.js"></script>
<!-- Contact JS -->
<script src="/Course/front-end/assets/js/contact-form-script.js"></script>
<!-- Ajaxchimp JS -->
<script src="/Course/front-end/assets/js/jquery.ajaxchimp.min.js"></script>
<!-- Custom JS -->
<script src=/Course/front-end/"assets/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>

<script>
    $(function () {
        $.ajax({
            url: '/course/getall',
            type: 'GET',
            success: function (res) {
                for (let i = 0; i < res.length; i++) {
                    let course = res[i];
                    // 檢查courseStatus是否為1
                    if (course.courseStatus === 1) {
                        let courseHtml = `
            <div class="col-lg-4 col-md-6">
                <div class="single-course d-flex flex-column">
        <div style="flex: 0 0 300px; width: 100%; overflow: hidden;">
        <img src="/course/img/${course.courseId}" alt="#" style="width: 100%; height: 100%; object-fit: cover;">
         </div>
            <div class="course-content" id="course" style="flex-grow: 1;">
              <a href="/course/singlecourse?courseId=${course.courseId}">
            <h3>${course.courseName}</h3>
             </a>

            <ul class="lessons">
            <button class="eve btn btn-danger" onclick=handleCourseFollow(${course.courseId})><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
</svg> 追蹤</button>
            <li class="float"></li>
             </ul>
            </div>
            </div>
            </div>`;
                        $('#show-all-courses').append(courseHtml); // 添加至HTML元素
                    }
                }
            },
            error: function (error) {
                // 处理错误情况
                console.log('Error:', error);
            }
        });
    });


</script>

<script>

    function handleCourseFollow(id) {
        $.ajax({
            url: `/add/courseFollow/${id}`,
            type: 'POST',
            success: function (res) {
                alert('追蹤成功');
            },
            error: function (error) {
                // 处理错误情况
                console.log('Error:', error);
            }
        });
    }

</script>


</body>

</html>
<!--            <li>-->
<!--            <button type="button" class="btn btn-light">   <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">-->
<!--            <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>-->
<!--            </svg>追蹤</button>-->
<!--            </li>-->
