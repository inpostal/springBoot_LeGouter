<!doctype html>
<html lang="zxx">
<html xmlns:th="http://www.thymeleaf.org">


<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/bootstrap.min.css">
    <!-- Owl Theme Default CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/owl.theme.default.min.css">
    <!-- Owl Carousel CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/owl.carousel.min.css">
    <!-- Owl Magnific CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/magnific-popup.css">
    <!-- Animate CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/animate.css">
    <!-- Boxicons CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/boxicons.min.css">
    <!-- Flaticon CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/flaticon.css">
    <!-- Meanmenu CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/meanmenu.css">
    <!-- Nice Select CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/nice-select.css">
    <!-- Odometer CSS-->
    <link rel="stylesheet" href="/GroupOrder/assets/css/odometer.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/style.css">
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="/GroupOrder/assets/css/responsive.css">

    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="/GroupOrder/static/css/css2.css" rel="stylesheet">

    <link href="/GroupOrder/static/css/all.min.css" rel="stylesheet">
    <link href="/GroupOrder/static/css/bootstrap-icons.css" rel="stylesheet">

    <link href="/GroupOrder/static/css/animate.min.css" rel="stylesheet">
    <link href="/GroupOrder/static/css/owl.carousel.min.css" rel="stylesheet">

    <link href="/GroupOrder/static/css/bootstrap.min.css" rel="stylesheet">

    <link href="/GroupOrder/static/css/style.css" rel="stylesheet">


    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/GroupOrder/assets/img/favicon.png">
    <!-- Title -->
    <title>Eduon</title>
    <style>
        .ptb-100 {
            padding-top: 70px;
            padding-bottom: 100px;
            text-align: center !important;
        }

        input, button, select, optgroup, textarea {
            /* font-weight: bold; */
            border-radius: 10px;
            border-width: 2px;
        }
    </style>
</head>

<body>
<!-- Start Preloader Area -->
<div id="spinner"
     class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-grow text-primary" role="status"></div>
</div>


<div class="container-fluid top-bar bg-dark text-light px-0 wow fadeIn" data-wow-delay="0.1s">
    <div class="row gx-0 align-items-center d-none d-lg-flex">
        <div class="col-lg-6 px-5 text-start">
            <ol class="breadcrumb mb-0">
                <!-- <li class="breadcrumb-item"><a class="small text-light" href="#">Home</a></li>
                <li class="breadcrumb-item"><a class="small text-light" href="#">Career</a></li>
                <li class="breadcrumb-item"><a class="small text-light" href="#">Terms</a></li>
                <li class="breadcrumb-item"><a class="small text-light" href="#">Privacy</a></li> -->
            </ol>
        </div>
        <div class="col-lg-6 px-5 text-end">
            <small>Follow us:</small>
            <div class="h-100 d-inline-flex align-items-center">
                <a class="btn-lg-square text-primary border-end rounded-0" href=""><i
                        class="fab fa-facebook-f"></i></a>
                <a class="btn-lg-square text-primary border-end rounded-0" href=""><i
                        class="fab fa-twitter"></i></a>
                <a class="btn-lg-square text-primary border-end rounded-0" href=""><i
                        class="fab fa-linkedin-in"></i></a>
                <a class="btn-lg-square text-primary pe-0" href=""><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </div>
</div>

<!-- 導覽列 -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top py-lg-0 px-lg-5 wow fadeIn" data-wow-delay="0.1s">
    <a href="index1.html" class="navbar-brand ms-4 ms-lg-0">
        <h1 class="text-primary m-0">Le Goûter</h1>
    </a>
    <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav mx-auto p-4 p-lg-0">
            <a href="" class="nav-item nav-link active">首頁</a>
            <a href="" class="nav-item nav-link">最新消息</a>
            <a href="" class="nav-item nav-link">關於我們</a>
            <a href="" class="nav-item nav-link">甜點商城</a>
            <a href="" class="nav-item nav-link">課程專區</a>
            <a href="" class="nav-item nav-link">團購專區</a>
            <a href="" class="nav-item nav-link">會員專區</a>
            <a href="" class="nav-item nav-link">優惠券專區</a>
            <div class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">其他</a>
                <div class="dropdown-menu m-0">
                    <a href="" class="dropdown-item">FAQ</a>
                    <a href="" class="dropdown-item">聯絡客服</a>
                </div>
            </div>
        </div>
        <div class=" d-none d-lg-flex">
            <div class="flex-shrink-0 btn-lg-square border border-light rounded-circle">
                <i class="fa fa-phone text-primary"></i>
            </div>
            <div class="ps-3">
                <small class="text-primary mb-0">聯絡我們</small>
                <p class="text-light fs-5 mb-0">0912345678</p>
            </div>
        </div>
    </div>
</nav>
<!-- End Others Option For Responsive -->
</div>
<!-- End Navbar Area -->

<!-- Start Page Title Area -->
<!-- <div class="page-title-area bg-14">
    <div class="container">
        <div class="page-title-content">
            <h2>最新消息</h2>
            <ul>
                <li>
                    <a href="index.html">
                        Home
                    </a>
                </li>

                <li class="active">最新消息</li>
            </ul>
        </div>
    </div>
</div> -->
<!-- End Page Title Area -->

<!-- Start Blog Details Area -->
<div class="single-blog-area ptb-100">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="single-blog-content">
                    <div class="blog-top-content">
                        <div class="single-blog-area ptb-100">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="single-blog-content">
                                            <div class="blog-top-content">
                                                <span id="memberID" style="display: none"></span>

                                                <span class="research" id="groupOrderStatus"
                                                      th:text="${groupActivity.getGroupOrderStatus()}"></span>

                                                <h3 style="font-size: 50px;" id="groupNameText"
                                                    th:text="${groupActivity.getGroupName()}"></h3>
                                                <p id="groupOrderId" th:text="${groupActivity.getGroupOrderId()}"></p>
                                                <img src="/GroupOrder/assets/img/news-img/news-img-8.jpg" alt="Image">

                                                <ul class="post-details" style="font-size: 20px;">
                                                    團購開始時間:
                                                    <li id="groupOrderStar"
                                                        th:text="${groupActivity.getGroupOrderStar()}">

                                                    </li>
                                                    團購結束時間
                                                    <li id="groupOrderEnd"
                                                        th:text="${groupActivity.getGroupOrderEnd()}">

                                                    </li>
                                                </ul>
                                                團購商品<h4 id="groupProductName"
                                                            th:text="${groupActivity.getGroupProductName()}"></h4>
                                                活動方案<p id="groupOrderMin"
                                                           th:text="${groupActivity.getGroupOrderMin()}"></p>
                                                商品折扣<p id="groupOrderDiscount"
                                                           th:text="${groupActivity.getGroupOrderDiscount()}"></p>
                                                團購商品價格<p id="groupProductPrice"
                                                               th:text="${groupActivity.getGroupProductPrice()}"></p>
                                                團購活動內容<p style="font-size: 20px;" id="groupActivityContentText"
                                                               th:text="${groupActivity.getGroupActivityContent()}"></p>
                                                　

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <button id="editButton" type="button" class="btn btn-primary">修改</button>
                            <button id="confirmButton" type="button" class="btn btn-secondary">確認</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- End Blog Details Area -->

<!-- Start Footer Top Area -->
<div class="container-fluid bg-dark text-light footer my-6 mb-0 py-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4">粉絲專頁</h4>

                <div class="d-flex pt-2">
                    <a class="btn btn-square btn-outline-light rounded-circle me-1" href=""><i
                            class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-square btn-outline-light rounded-circle me-0" href=""><i
                            class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4">關於我們</h4>
                <a class="btn btn-link" href="">認識Le Goûter</a>
                <a class="btn btn-link" href="">最新消息</a>
                <a class="btn btn-link" href="">甜點商城</a>
                <a class="btn btn-link" href="">課程專區</a>
                <a class="btn btn-link" href="">團購專區</a>
                <a class="btn btn-link" href="">服務條款</a>
                <a class="btn btn-link" href="">隱私政策</a>
                <a class="btn btn-link" href="">聯絡我們</a>
            </div>

            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4">常見問題</h4>
                <a class="btn btn-link" href="">註冊登入</a>
                <a class="btn btn-link" href="">FAQ</a>
                <a class="btn btn-link" href="">回報客服</a>
                <a class="btn btn-link" href="">購物須知</a>
                <a class="btn btn-link" href="">退款政策</a>
            </div>

            <div class="col-lg-3 col-md-6">
                <h4 class="text-light mb-4"></h4>
                <div class="row g-2">
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="/GroupOrder/static/picture/product-1.jpg"
                             alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="/GroupOrder/static/picture/product-2.jpg"
                             alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="/GroupOrder/static/picture/product-3.jpg"
                             alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="/GroupOrder/static/picture/product-2.jpg"
                             alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="/GroupOrder/static/picture/product-3.jpg"
                             alt="Image">
                    </div>
                    <div class="col-4">
                        <img class="img-fluid bg-light rounded p-1" src="/GroupOrder/static/picture/product-1.jpg"
                             alt="Image">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 版權所有 -->

<script data-cfasync="false" src="/GroupOrder/static/js/email-decode.min.js"></script>
<script src="/GroupOrder/static/js/jquery-3.4.1.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/GroupOrder/static/js/bootstrap.bundle.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/GroupOrder/static/js/wow.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/GroupOrder/static/js/easing.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/GroupOrder/static/js/waypoints.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/GroupOrder/static/js/counterup.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/GroupOrder/static/js/owl.carousel.min.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>

<script src="/GroupOrder/static/js/main.js" type="0080e6b992b21508d4c0eeae-text/javascript"></script>
<script src="/GroupOrder/static/js/rocket-loader.min.js" data-cf-settings="0080e6b992b21508d4c0eeae-|49"
        defer=""></script>


<!-- Start Go Top Area -->
<div class="go-top">
    <i class='bx bx-chevrons-up'></i>
    <i class='bx bx-chevrons-up'></i>
</div>
<!-- End Go Top Area -->


<!-- Jquery-3.5.1.Slim.Min.JS -->
<script src="/GroupOrder/assets/js/jquery-3.5.1.slim.min.js"></script>
<!-- Popper JS -->
<script src="/GroupOrder/assets/js/popper.min.js"></script>
<!-- Bootstrap JS -->
<script src="/GroupOrder/assets/js/bootstrap.min.js"></script>
<!-- Meanmenu JS -->
<script src="/GroupOrder/assets/js/jquery.meanmenu.js"></script>
<!-- Wow JS -->
<script src="/GroupOrder/assets/js/wow.min.js"></script>
<!-- Owl Carousel JS -->
<script src="/GroupOrder/assets/js/owl.carousel.js"></script>
<!-- Owl Magnific JS -->
<script src="/GroupOrder/assets/js/jquery.magnific-popup.min.js"></script>
<!-- Nice Select JS -->
<script src="/GroupOrder/assets/js/jquery.nice-select.min.js"></script>
<!-- Parallax JS -->
<script src="/GroupOrder/assets/js/parallax.min.js"></script>
<!-- Appear JS -->
<script src="/GroupOrder/assets/js/jquery.appear.js"></script>
<!-- Odometer JS -->
<script src="/GroupOrder/assets/js/odometer.min.js"></script>
<!-- Form Validator JS -->
<script src="/GroupOrder/assets/js/form-validator.min.js"></script>
<!-- Contact JS -->
<script src="/GroupOrder/assets/js/contact-form-script.js"></script>
<!-- Ajaxchimp JS -->
<script src="/GroupOrder/assets/js/jquery.ajaxchimp.min.js"></script>
<!-- Custom JS -->
<script src="/GroupOrder/assets/js/custom.js"></script>
<script src="/News/Yen_js/jquery-3.4.1.min.js"></script>
</body>
<script>
    let editing = false;
    let originalActivityInfo = ''; // 保存原始的活动信息
    let originalGroupName = ''; // 保存原始的团体名称

    $('#editButton').click(function () {
        if (editing) {
// If currently in edit mode, clicking the button will cancel the edit
            $('#groupActivityContentText').replaceWith('<p id="groupActivityContentText">' + originalActivityInfo + '</p>');
            $('#groupNameText').replaceWith('<h3 style="font-size: 50px;" id="groupNameText">' + originalGroupName + '</h3>'); // Update the group name
            $(this).text('修改'); // Change the button text to "修改"
        } else {
// If not in edit mode, clicking the button will start the edit
            originalActivityInfo = $('#groupActivityContentText').text(); // 保存原始的活动信息
            originalGroupName = $('#groupNameText').text(); // 保存原始的团体名称
            let ActivityInfo = $('#groupActivityContentText').text();
            $('#groupActivityContentText').replaceWith('<textarea id="groupActivityContentText" style="height: 130px;width: 950px;">' + ActivityInfo + '</textarea>');
            let groupName = $('#groupNameText').text(); // Get the group name from the heading
            $('#groupNameText').replaceWith('<input type="text" id="groupNameText" style="font-size: 50px;" value="' + groupName + '">'); // Replace with an input field containing the group name
            $(this).text('取消'); // Change the button text to "取消"
        }
        editing = !editing; // Toggle the editing state
    });

    $('#confirmButton').click(function () {
        console.log("SSSSSS")
        if (editing) {
            let ActivityInfo = $('#groupActivityContentText').val();
            let groupActivityId = (new URLSearchParams(window.location.search)).get('groupActivityId');
            let groupName = $('#groupNameText').val(); // Get the group name from the input field
            $.ajax({
                url: '/GroupOrder/GroupActivity/UpdateGroupActivity',
                type: 'POST',
                data: {
                    groupActivityId: groupActivityId,
                    activityInfo: ActivityInfo,
                    groupName: groupName
                },
                success: function (resp) {
// Handle server response
                    alert("修改成功！");
                    $('#groupActivityContentText').replaceWith('<p id="groupActivityContentText">' + ActivityInfo + '</p>');
                    $('#groupNameText').replaceWith('<h3 style="font-size: 50px;" id="groupNameText">' + groupName + '</h3>'); // Update the group name
                    $('#editButton').text('修改'); // Change the button text to "修改"
                    editing = false; // Switch to non-editing state
                },
                error: function (error) {
// Handle error cases
                    console.log('Error:', error);
                }
            });
        }
    });
</script>

</html>
